<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理員介面</title>
    <link rel="stylesheet" href="CSS/Admin interface.css">
</head>

<body>
    <nav>
        <!-- 左上半部欄位  -->
        <div class="logo-name">
            <div class="logo-image">
                <img src="image/usericon.png" alt="">
            </div>

            <span class="logo_name"></span>

        </div>

        <!-- 左下半部欄位 -->
        <div class="menu-items">
            <ul class="nav-links">
                <li><button onclick="clearAll() , showBorrowRequest()">
                        <i><img src="image/request40.png" alt=""></i>
                        <span class="link-name">借用請求</span>
                        </a></li>
                <li><button onclick="clearAll() , showKeyrecord()">
                        <i><img src="image/keyrecord40.png" alt=""></i>
                        <span class="link-name">鑰匙借用紀錄</span>
                        </a></li>
                <li><button onclick="clearAll() , showClassSchedule()">
                        <i><img src="image/keyrecord40.png" alt=""></i>
                        <span class="link-name">課表排程</span>
                        </a></li>
                <li><button onclick="clearAll() , showClassroomInquiry()">
                        <i><img src="image/keyrecord40.png" alt=""></i>
                        <span class="link-name">教室查詢</span>
                        </a></li>
            </ul>

            <ul class="logout-mode">
                <li class="logout">
                    <button id="logoutBtn">
                        <i><img src="image/logoutIcon.png" alt=""></i>
                        <span class="link-name">登出</span>
                    </button>
                </li>
            </ul>

        </div>
    </nav>

    <section class="board">
        <!-- 右上半部欄位  -->
        <div class="board-top">
            <i class="sidebar-toggle"><img src="image/left.png" class="leftArrow" id="leftArrow"></i>
            <a href="Home.html"><img src="image/home.png"></a>

        </div>

        <!-- 右下半部欄位  -->
        <div class="board-content">
            <!-- 借用請求 -->
            <div class="borrowRequest" id="borrowRequest">

                <!-- 兩個按鈕選擇顯示立即還是預約 -->
                <div class="conditions">
                    <button class="immediately" id="immediately"
                        onclick="clearAllForm(),openImmediatelyForm()">立即借用</button>
                    <button class="reserve" id="reserve" onclick="clearAllForm(),openReserveForm()">預約借用</button>
                </div>


                <div class="immediatelyForm">
                    <div class="content">
                        <div class="title">
                            <p>XXX教室 <img src="image/dropdownIcon48.png" id="immediatelyFormImg1"
                                    onclick="immediatelyFormtoggleContent('immediatelyFormcontent1','immediatelyFormImg1')">
                            </p>
                        </div>
                        <div class="text" id="immediatelyFormcontent1">
                            <p>艾利</p>
                            <p>借用目的 : 研究項目討論</p>
                            <div class="accounting">
                                <p>Start Time : </p>
                                <p>End Time : </p>
                                <p>2023/10/20 10.am</p>
                                <p>2023/10/20 11.am</p>
                                <button>拒絕</button>
                                <button>同意</button>
                            </div>
                        </div>
                    </div>

                    <div class="content">
                        <div class="title">
                            <p>XXX教室 <img src="image/dropdownIcon48.png" id="immediatelyFormImg2"
                                    onclick="immediatelyFormtoggleContent('immediatelyFormcontent2','immediatelyFormImg2')">
                            </p>
                        </div>
                        <div class="text" id="immediatelyFormcontent2">
                            <p>艾利</p>
                            <p>借用目的 : 研究項目討論</p>
                            <div class="accounting">
                                <p>Start Time : </p>
                                <p>End Time : </p>
                                <p>2023/10/20 10.am</p>
                                <p>2023/10/20 11.am</p>
                                <button>拒絕</button>
                                <button>同意</button>
                            </div>
                        </div>
                    </div>




                </div>

                <div class="reserveForm">
                    <div class="content">
                        <div class="title">
                            <p>YYY教室<img src="image/dropdownIcon48.png" id="reserveFormImg1"
                                    onclick="immediatelyFormtoggleContent('reserveFormcontent1','reserveFormImg1')">
                            </p>
                        </div>
                        <div class="text" id="reserveFormcontent1">
                            <p>艾利</p>
                            <p>借用目的 : 研究項目討論</p>
                            <div class="accounting">
                                <p>Start Time : </p>
                                <p>End Time : </p>
                                <p>2023/10/20 10.am</p>
                                <p>2023/10/20 11.am</p>
                                <button>拒絕</button>
                                <button class="acceptButton">同意</button>
                            </div>
                        </div>
                    </div>
                    <div class="content">
                        <div class="title">
                            <p>YYY教室<img src="image/dropdownIcon48.png" id="reserveFormImg2"
                                    onclick="immediatelyFormtoggleContent('reserveFormcontent2','reserveFormImg2')">
                            </p>
                        </div>
                        <div class="text" id="reserveFormcontent2">
                            <p>艾利</p>
                            <p>借用目的 : 研究項目討論</p>
                            <div class="accounting">
                                <p>Start Time : </p>
                                <p>End Time : </p>
                                <p>2023/10/20 10.am</p>
                                <p>2023/10/20 11.am</p>
                                <button>拒絕</button>
                                <button class="acceptButton">同意</button>
                            </div>
                        </div>
                    </div>
                    <div class="content">
                        <div class="title">
                            <p>YYY教室<img src="image/dropdownIcon48.png" id="reserveFormImg3"
                                    onclick="immediatelyFormtoggleContent('reserveFormcontent3','reserveFormImg3')">
                            </p>
                        </div>
                        <div class="text" id="reserveFormcontent3">
                            <p>艾利</p>
                            <p>借用目的 : 研究項目討論</p>
                            <div class="accounting">
                                <p>Start Time : </p>
                                <p>End Time : </p>
                                <p>2023/10/20 10.am</p>
                                <p>2023/10/20 11.am</p>
                                <button>拒絕</button>
                                <button class="acceptButton">同意</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 鑰匙借用紀錄 -->
            <div class="keyrecord" id="keyrecord">
                <div class="keyrecordTitle">
                    <span>借用者</span>
                    <span>借用時間</span>
                    <span>預計歸還時間</span>
                    <span>借用狀態</span>

                </div>

                <div class="keyrecordContent">
                    <span>艾利</span>
                    <span>4.PM</span>
                    <span>5.PM</span>
                    <span>未歸還</span>
                </div>
            </div>

            <!-- 課表排程 -->
            <div class="classSchedule" id="classSchedule">

                <!-- 兩個按鈕選擇顯示快速新增還是課表新增 -->
                <div class="classScheduleConditions">
                    <button class="fastAdd" id="fastAdd" onclick="clearAllForm(),openFastAddForm()">快速新增</button>
                    <button class="classAdd" id="classAdd" onclick="clearAllForm(),openClassAddForm()">課表新增</button>
                </div>

                <!-- 快速新增 -->
                <div class="fastAddForm">
                    <div class="classScheduleTitle">
                        <h1>新增</h1>
                        <span>課程新增: <input type="text"></span>

                        <span>教室名稱: <input class="inputClassRoomName" type="text" placeholder="輸入教室名稱"
                                list="classroomNameList"></span>
                        <datalist id="classroomNameList"></datalist>
                        <span>開始小時:
                            <select name="" id="">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                        </span>

                        <span>開始日期: <input type="date" id="datePicker" name="datePicker"></span>
                        <span>結束日期: <input type="date" id="datePicker" name="datePicker"></span>
                        <button>提交</button>
                    </div>

                </div>
                <!-- 課表新增 -->
                <div class="classAddForm">
                    <div class="classScheduleTitle">
                        <h1>新增</h1>
                        <div class="classScheduleContent">
                            <span>教室名稱: <input class="inputClassRoomName" type="text" placeholder="輸入教室名稱"
                                    list="classroomNameList"></span>
                            <datalist id="classroomNameList"></datalist>
                            <table border="1">
                                <tr>
                                    <td></td>
                                    <td>禮拜一</td>
                                    <td>禮拜二</td>
                                    <td>禮拜三</td>
                                    <td>禮拜四</td>
                                    <td>禮拜五</td>
                                    <td>禮拜六</td>
                                    <td>禮拜日</td>
                                <tr>
                                <tr>
                                    <td>第0節</td>
                                    <td>
                                        <!-- 新增方塊 -->
                                        <div class="addBlock">
                                            <span>課程新增 : <input type="text" placeholder="課程新增"></span>
                                            <span>開始小時 :
                                                <select name="" id="">
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                    <option value="6">6</option>
                                                    <option value="7">7</option>
                                                    <option value="8">8</option>
                                                    <option value="9">9</option>
                                                    <option value="10">10</option>
                                                </select>
                                            </span>
                                            <span>開始日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <span>結束日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <button>提交</button>
                                        </div>
                                    </td>
                                    <td>
                                        <!-- 新增方塊 -->
                                        <div class="addBlock">
                                            <span>課程新增 : <input type="text" placeholder="課程新增"></span>
                                            <span>開始小時 :
                                                <select name="" id="">
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                    <option value="6">6</option>
                                                    <option value="7">7</option>
                                                    <option value="8">8</option>
                                                    <option value="9">9</option>
                                                    <option value="10">10</option>
                                                </select>
                                            </span>
                                            <span>開始日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <span>結束日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <button>提交</button>
                                        </div>
                                    </td>
                                    <td>
                                        <!-- 新增方塊 -->
                                        <div class="addBlock">
                                            <span>課程新增 : <input type="text" placeholder="課程新增"></span>
                                            <span>開始小時 :
                                                <select name="" id="">
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                    <option value="6">6</option>
                                                    <option value="7">7</option>
                                                    <option value="8">8</option>
                                                    <option value="9">9</option>
                                                    <option value="10">10</option>
                                                </select>
                                            </span>
                                            <span>開始日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <span>結束日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <button>提交</button>
                                        </div>
                                    </td>
                                    <td>
                                        <!-- 新增方塊 -->
                                        <div class="addBlock">
                                            <span>課程新增 : <input type="text" placeholder="課程新增"></span>
                                            <span>開始小時 :
                                                <select name="" id="">
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                    <option value="6">6</option>
                                                    <option value="7">7</option>
                                                    <option value="8">8</option>
                                                    <option value="9">9</option>
                                                    <option value="10">10</option>
                                                </select>
                                            </span>
                                            <span>開始日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <span>結束日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <button>提交</button>
                                        </div>
                                    </td>
                                    <td>
                                        <!-- 新增方塊 -->
                                        <div class="addBlock">
                                            <span>課程新增 : <input type="text" placeholder="課程新增"></span>
                                            <span>開始小時 :
                                                <select name="" id="">
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                    <option value="6">6</option>
                                                    <option value="7">7</option>
                                                    <option value="8">8</option>
                                                    <option value="9">9</option>
                                                    <option value="10">10</option>
                                                </select>
                                            </span>
                                            <span>開始日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <span>結束日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <button>提交</button>
                                        </div>
                                    </td>
                                    <td>
                                        <!-- 新增方塊 -->
                                        <div class="addBlock">
                                            <span>課程新增 : <input type="text" placeholder="課程新增"></span>
                                            <span>開始小時 :
                                                <select name="" id="">
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                    <option value="6">6</option>
                                                    <option value="7">7</option>
                                                    <option value="8">8</option>
                                                    <option value="9">9</option>
                                                    <option value="10">10</option>
                                                </select>
                                            </span>
                                            <span>開始日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <span>結束日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <button>提交</button>
                                        </div>
                                    </td>
                                    <td>
                                        <!-- 新增方塊 -->
                                        <div class="addBlock">
                                            <span>課程新增 : <input type="text" placeholder="課程新增"></span>
                                            <span>開始小時 :
                                                <select name="" id="">
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                    <option value="6">6</option>
                                                    <option value="7">7</option>
                                                    <option value="8">8</option>
                                                    <option value="9">9</option>
                                                    <option value="10">10</option>
                                                </select>
                                            </span>
                                            <span>開始日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <span>結束日期: <input type="date" id="datePicker" name="datePicker"></span>
                                            <button>提交</button>
                                        </div>
                                    </td>
                                <tr>
                                <tr>
                                    <td>第1節</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                <tr>
                            </table>

                        </div>
                    </div>


                </div>
            </div>

            <!-- 教室查詢 -->
            <div class="ClassroomInquiry" id="ClassroomInquiry">
                <div class="ClassroomInquiryTitle">
                    <h1>找教室</h1>

                </div>

                <div class="ClassroomInquiryContent">
                    <span>教室名稱: <input class="inputClassRoomName" type="text" placeholder="輸入教室名稱"
                            list="classroomNameList"></span>
                    <datalist id="classroomNameList"></datalist>

                    <button>提交</button>

                    <span>選擇日期: <input type="date" id="datePicker" name="datePicker"></span>
                    <button>提交</button>
                </div>
            </div>
        </div>
    </section>

    <script>
        const logoutButton = document.getElementById("logoutBtn");


        fetch("獲取教室名稱.php", { method: 'POST' })
            .then(response => response.json())
            .then(datas => {
                datas.forEach((data) => {
                    allClassroomName.push(data[0]);
                    let room = document.createElement("option")
                    room.innerHTML = data[0];
                    document.getElementById("classroomNameList").appendChild(room);
                });
            });


        const body = document.querySelector("body"),
            sidebar = body.querySelector("nav"),
            leftArrow = document.getElementById("leftArrow");
        sidebarToggle = body.querySelector(".sidebar-toggle");

        sidebarToggle.addEventListener("click", () => {
            sidebar.classList.toggle("close");
            if (sidebar.classList.contains("close")) {
                localStorage.setItem("status", "close");
                leftArrow.classList.add("show");
            } else {
                localStorage.setItem("status", "open");
                leftArrow.classList.remove("show");
            }
        })


        // 當點擊左側選當後在右側顯示
        let borrowRequest = document.getElementById("borrowRequest");
        let keyrecord = document.getElementById("keyrecord");
        let classSchedule = document.getElementById("classSchedule");
        let ClassroomInquiry = document.getElementById("ClassroomInquiry");


        function clearAll() {
            borrowRequest.classList.remove("show");
            keyrecord.classList.remove("show");
            classSchedule.classList.remove("show");
            ClassroomInquiry.classList.remove("show");
        }

        function showBorrowRequest() {
            borrowRequest.classList.add("show");

        }
        function showKeyrecord() {
            keyrecord.classList.add("show");
        }

        function showClassSchedule() {
            classSchedule.classList.add("show");
        }

        function showClassroomInquiry() {
            ClassroomInquiry.classList.add("show");
        }
        // 用按鈕選擇條件清單

        //-----點擊按鈕後改變顏色
        let immediatelyButton = document.querySelector(".immediately");
        let reserveButton = document.querySelector(".reserve");

        //-----點擊按鈕後顯示多個清單
        //// 1.借用請求
        let immediatelyForm = document.querySelector(".immediatelyForm");
        let reserveForm = document.querySelector(".reserveForm");

        //// 2. 課表排程
        let fastAddForm = document.querySelector(".fastAddForm");
        let classAddForm = document.querySelector(".classAddForm");


        //-----點擊箭頭後顯示清單內容(1.內容,2.圖片)
        let immediatelyFormBody = document.getElementById("immediatelyFormcontent");
        let immediatelyFormImage = document.getElementById("immediatelyFormImg");

        let reserveFormBody = document.getElementById("reserveFormcontent");
        let reserveFormImage = document.getElementById("reserveFormImg");

        ///////////////////////////////////////////////////////////////////////////////////
        function clearAllForm() {
            //// 1.借用請求
            immediatelyButton.classList.remove("show");
            reserveButton.classList.remove("show");

            immediatelyForm.classList.remove("show");
            reserveForm.classList.remove("show");

            //// 2. 課表排程
            fastAddForm.classList.remove("show");
            classAddForm.classList.remove("show");


        }

        //// 1.借用請求
        function openImmediatelyForm() {
            immediatelyButton.classList.add("show");
            immediatelyForm.classList.add("show");
        }

        function openReserveForm() {
            reserveButton.classList.add("show");
            reserveForm.classList.add("show");
        }

        //// 2. 課表排程
        function openFastAddForm() {

            fastAddForm.classList.add("show");
        }
        function openClassAddForm() {
            classAddForm.classList.add("show");
        }
        //點箭頭控制清單開關
        // function openImmediatelyFormContent() {
        //     immediatelyFormBody.classList.toggle("show");
        //     immediatelyFormImage.classList.toggle("show");
        // }
        // function openReserveFormContent() {
        //     reserveFormBody.classList.toggle("show");
        //     reserveFormImage.classList.toggle("show");
        // }
        ////////////////////////////////////////////////////////////////////////////////////
        function immediatelyFormtoggleContent(immediatelyFormBodyId, immediatelyFormImageId) {
            let immediatelyFormBody = document.getElementById(immediatelyFormBodyId);
            let immediatelyFormImage = document.getElementById(immediatelyFormImageId);
            immediatelyFormBody.classList.toggle("show");
            immediatelyFormImage.classList.toggle("show");
        }
        function ReserveFormtoggleContent(ReserveFormBodyId, ReserveFormImageId) {
            let ReserveFormBody = document.getElementById(ReserveFormBodyId);
            let ReserveFormImage = document.getElementById(ReserveFormImageId);
            ReserveFormBody.classList.toggle("show");
            ReserveFormImage.classList.toggle("show");
        }

        logoutButton.addEventListener("click", () => {
            fetch("使用者登出.php", { method: 'POST' });
            window.location.href = "Home.html";
        }, false);
    </script>
</body>

</html>